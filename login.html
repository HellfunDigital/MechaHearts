<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="mainstyle.css">
    <link rel="shortcut icon" type="image/x-icon" href="https://cdn.discordapp.com/attachments/1008320824064888914/1061417607946846239/AaronelpisAlso_schematic_game_icon_47a4c6cd-0afa-42fc-8312-617dcc337a24.png">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://apis.google.com/js/platform.js?client_id=13898217379-5en70dccdf45p6qu3ik34699tv5popdc.apps.googleusercontent.com" async defer></script>
    <script src="https://www.gstatic.com/firebasejs/7.18.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.18.0/firebase-auth.js"></script>
    <script src="scripts.js"></script>
<title>MechaHearts - Digital TCG</title>
  </head>
  <body>

    <div class="home-page">
      <div class="nav-bar">
        <img src="https://cdn.discordapp.com/attachments/1008320824064888914/1061417607946846239/AaronelpisAlso_schematic_game_icon_47a4c6cd-0afa-42fc-8312-617dcc337a24.png" alt="Game Logo">
        <div class="gametitle">
          <h3>MechaHearts - Digital TCG</h3>
        </div>
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="battle.html">Battle</a></li>
          <li><a href="collection.html">Collection</a></li>
          <li><a href="profile.html">Profile</a></li>
          <li><a href="store.html">Store</a></li>

        </ul>
      </div>

      <div class="login-form-container">
  <form id="login-form">
    <label for="email">Email:</label>
    <input type="email" id="email" name="email" required>
    <label for="password">Password:</label>
    <input type="password" id="password" name="password" required>
    <button type="submit">Log In</button>
  <a href="signup.html">Don't have an account? Sign up</a>
  <div id="login-message"></div>
  </form>
</div>
<div class="g-signin2" data-onsuccess="onSignIn" data-clientid="13898217379-5en70dccdf45p6qu3ik34699tv5popdc.apps.googleusercontent.com"></div>
<div id="error-message"></div>

<script>
  // Your web app's Firebase configuration
  const firebaseConfig = {
    apiKey: "AIzaSyDKYeoSeCHlhE2CnIU9M3xIwK2-pNOVwk4",
    authDomain: "mechahearts-941cd.firebaseapp.com",
    databaseURL: "https://mechahearts-941cd-default-rtdb.firebaseio.com",
    projectId: "mechahearts-941cd",
    storageBucket: "mechahearts-941cd.appspot.com",
    messagingSenderId: "13898217379",
    appId: "1:13898217379:web:b051ece6c8e9af3a83cc16"
  };

  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);

  // Reference to the login form element
  const loginForm = document.querySelector("#login-form");

  // Reference to the login message element
  const loginMessage = document.querySelector("#login-message");

  // Listen for form submission
  loginForm.addEventListener("submit", (e) => {
    e.preventDefault();

    // Get the email and password values
    const email = loginForm["email"].value;
    const password = loginForm["password"].value;

    // Sign in the user with Firebase
    firebase
      .auth()
      .signInWithEmailAndPassword(email, password)
      .then(() => {
        // Show a success message
        loginMessage.textContent = "Login Successful!";
        // Redirect the user to the profile page
        window.location.href = "profile.html";
      })
      .catch((error) => {
        // Show an error message
        loginMessage.textContent = error.message;
      });
  });

  function onSignIn(googleUser) {
    // Get the user's ID token and basic profile information
    var id_token = googleUser.getAuthResponse().id_token;

    // Use the token and profile information to sign in the user
    // using Firebase Authentication
    firebase
      .auth()
      .signInWithCredential(
        firebase.auth.GoogleAuthProvider().credential(id_token)
      )
      .then(function(result) {
        // User is signed in
        // Redirect the user to the profile page
        window.location.href = "profile.html";
      })
      .catch(function(error) {
        // Handle error
        console.error(error);
      });
  }

  firebase.auth().onAuthStateChanged(function(user) {
    if (user) {
      // User is signed in.
      // Redirect the user to the profile page
      window.location.href = "profile.html";
    } else {
      // No user is signed in.
    }
  });

</script>





      <div class="quick-links">
        <h2>Quick Links</h2>
        <ul>
          <li><a href="Store.html">Store</a></li>
          <li><a href="collection.html">Collection</a></li>
          <li><a href="profile.html">Profile</a></li>
        </ul>
      </div>
      </div>


      </body>
      </html>
